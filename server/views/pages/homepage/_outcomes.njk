{% from "govuk/components/table/macro.njk" import govukTable %}

{% set tableData = {
  firstCellIsHeader: true,
  head: [
    {
      text: "Person on probation"
    },
    {
      text: "Appointment type"
    },
    {
      classes: 'govuk-!-text-align-right',
      text: "Date"
    },
    {
      classes: 'govuk-!-text-align-right',
      text: "Action"
    }
  ],
  rows: []
} %}


{% for outcome in outcomes %}
    {% set row = tableData.rows.push([
        {
            html: '<a class="govuk-!-font-weight-regular" href="/case/' + outcome.crn + '">' + outcome.caseName.surname + ', ' + outcome.caseName.forename + '</a><br><span class="govuk-!-font-weight-bold secondary-text">' + outcome.crn + '</span>'
        },
        {
            html: '<a class="govuk-link" href="/case/' + outcome.crn + '/appointments/appointment/' + outcome.id + '">' + outcome.type + '</a>'
        },
        {
            classes: 'govuk-!-text-align-right',
            text: outcome.startDateTime | dateWithYear
        },
        {
            classes: 'govuk-!-text-align-right',
            html: '<a class="govuk-link" href="/appointments/appointment/' + outcome.id + '">Log outcome</a>'
        }
    ]) %}
{% endfor %}

<div class="govuk-!-padding-3 govuk-!-padding-top-1">
  {{ govukTable(tableData) }}
  <p>
      <a class="govuk-link govuk-link--no-visited-state" href="/caseload/appointments/no-outcome">Log more outcomes</a>
  </p>
</div>