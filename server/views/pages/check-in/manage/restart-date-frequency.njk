{% extends "../../_form.njk" %}
{% set title = "Online check in settings" %}
{% set backLink =  '/case/' + crn + '/appointments/check-in/manage/' + id %}
{% set radioLabel =  "How often would you like "+ case.name.forename + " to check in?" %}
{% set buttonText =  "Continue" %}

{% block form %}
    <h3 class="govuk-heading-s govuk-!-margin-bottom-1" >When would you like {{case.name.forename}} to complete their next online <br/> check in?</h3>
    {{ mojDatePicker({
        formGroup: {
            classes: "govuk-!-margin-bottom-3",
            attributes: {
                'data-qa': 'checkInDate'
            }
        },
        minDate: checkInMinDate
    } | decorateFormAttributes(['esupervision', crn, id, 'restartCheckin', 'date'])) }}

    {{ govukRadios({
        fieldset: {
            legend: {
                text: radioLabel ,
                classes: "govuk-label--m govuk-!-font-weight-bold"
            }
        },
        formGroup: {
            attributes: {
                'data-qa': 'checkInFrequency'
            }
        },
        items: [
            {
                value: "WEEKLY",
                text: "Every week"
            },
            {
                value: "TWO_WEEKS",
                text: "Every 2 weeks"
            },
            {
                value: "FOUR_WEEKS",
                text: "Every 4 weeks"
            },
            {
                value: "EIGHT_WEEKS",
                text: "Every 8 weeks"
            }
        ]
    } | decorateFormAttributes(['esupervision', crn, id, 'restartCheckin', 'interval'])) }}

    <input type="hidden" name="previousDate" value="{{ date }}">
    <input type="hidden" name="previousInterval" value="{{ interval }}">
    <input type="hidden" name="checkInMinDate" value="{{checkInMinDate}}">
{% endblock %}